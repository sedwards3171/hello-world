require=function t(e,n,r){function i(o,a){if(!n[o]){if(!e[o]){var u="function"==typeof require&&require;if(!a&&u)return u(o,!0);if(s)return s(o,!0);var l=new Error("Cannot find module '"+o+"'");throw l.code="MODULE_NOT_FOUND",l}var c=n[o]={exports:{}};e[o][0].call(c.exports,function(t){var n=e[o][1][t];return i(n?n:t)},c,c.exports,t,e,n,r)}return n[o].exports}for(var s="function"==typeof require&&require,o=0;o<r.length;o++)i(r[o]);return i}({1:[function(t,e,n){(function(){var t=this,r=t._,i={},s=Array.prototype,o=Object.prototype,a=Function.prototype,u=s.push,l=s.slice,c=s.concat,h=o.toString,f=o.hasOwnProperty,d=s.forEach,p=s.map,v=s.reduce,g=s.reduceRight,m=s.filter,y=s.every,b=s.some,_=s.indexOf,x=s.lastIndexOf,w=Array.isArray,T=Object.keys,k=a.bind,E=function(t){return t instanceof E?t:this instanceof E?void(this._wrapped=t):new E(t)};"undefined"!=typeof n?("undefined"!=typeof e&&e.exports&&(n=e.exports=E),n._=E):t._=E,E.VERSION="1.6.0";var S=E.each=E.forEach=function(t,e,n){if(null==t)return t;if(d&&t.forEach===d)t.forEach(e,n);else if(t.length===+t.length){for(var r=0,s=t.length;s>r;r++)if(e.call(n,t[r],r,t)===i)return}else for(var o=E.keys(t),r=0,s=o.length;s>r;r++)if(e.call(n,t[o[r]],o[r],t)===i)return;return t};E.map=E.collect=function(t,e,n){var r=[];return null==t?r:p&&t.map===p?t.map(e,n):(S(t,function(t,i,s){r.push(e.call(n,t,i,s))}),r)};var A="Reduce of empty array with no initial value";E.reduce=E.foldl=E.inject=function(t,e,n,r){var i=arguments.length>2;if(null==t&&(t=[]),v&&t.reduce===v)return r&&(e=E.bind(e,r)),i?t.reduce(e,n):t.reduce(e);if(S(t,function(t,s,o){i?n=e.call(r,n,t,s,o):(n=t,i=!0)}),!i)throw new TypeError(A);return n},E.reduceRight=E.foldr=function(t,e,n,r){var i=arguments.length>2;if(null==t&&(t=[]),g&&t.reduceRight===g)return r&&(e=E.bind(e,r)),i?t.reduceRight(e,n):t.reduceRight(e);var s=t.length;if(s!==+s){var o=E.keys(t);s=o.length}if(S(t,function(a,u,l){u=o?o[--s]:--s,i?n=e.call(r,n,t[u],u,l):(n=t[u],i=!0)}),!i)throw new TypeError(A);return n},E.find=E.detect=function(t,e,n){var r;return I(t,function(t,i,s){return e.call(n,t,i,s)?(r=t,!0):void 0}),r},E.filter=E.select=function(t,e,n){var r=[];return null==t?r:m&&t.filter===m?t.filter(e,n):(S(t,function(t,i,s){e.call(n,t,i,s)&&r.push(t)}),r)},E.reject=function(t,e,n){return E.filter(t,function(t,r,i){return!e.call(n,t,r,i)},n)},E.every=E.all=function(t,e,n){e||(e=E.identity);var r=!0;return null==t?r:y&&t.every===y?t.every(e,n):(S(t,function(t,s,o){return(r=r&&e.call(n,t,s,o))?void 0:i}),!!r)};var I=E.some=E.any=function(t,e,n){e||(e=E.identity);var r=!1;return null==t?r:b&&t.some===b?t.some(e,n):(S(t,function(t,s,o){return r||(r=e.call(n,t,s,o))?i:void 0}),!!r)};E.contains=E.include=function(t,e){return null==t?!1:_&&t.indexOf===_?-1!=t.indexOf(e):I(t,function(t){return t===e})},E.invoke=function(t,e){var n=l.call(arguments,2),r=E.isFunction(e);return E.map(t,function(t){return(r?e:t[e]).apply(t,n)})},E.pluck=function(t,e){return E.map(t,E.property(e))},E.where=function(t,e){return E.filter(t,E.matches(e))},E.findWhere=function(t,e){return E.find(t,E.matches(e))},E.max=function(t,e,n){if(!e&&E.isArray(t)&&t[0]===+t[0]&&t.length<65535)return Math.max.apply(Math,t);var r=-(1/0),i=-(1/0);return S(t,function(t,s,o){var a=e?e.call(n,t,s,o):t;a>i&&(r=t,i=a)}),r},E.min=function(t,e,n){if(!e&&E.isArray(t)&&t[0]===+t[0]&&t.length<65535)return Math.min.apply(Math,t);var r=1/0,i=1/0;return S(t,function(t,s,o){var a=e?e.call(n,t,s,o):t;i>a&&(r=t,i=a)}),r},E.shuffle=function(t){var e,n=0,r=[];return S(t,function(t){e=E.random(n++),r[n-1]=r[e],r[e]=t}),r},E.sample=function(t,e,n){return null==e||n?(t.length!==+t.length&&(t=E.values(t)),t[E.random(t.length-1)]):E.shuffle(t).slice(0,Math.max(0,e))};var F=function(t){return null==t?E.identity:E.isFunction(t)?t:E.property(t)};E.sortBy=function(t,e,n){return e=F(e),E.pluck(E.map(t,function(t,r,i){return{value:t,index:r,criteria:e.call(n,t,r,i)}}).sort(function(t,e){var n=t.criteria,r=e.criteria;if(n!==r){if(n>r||void 0===n)return 1;if(r>n||void 0===r)return-1}return t.index-e.index}),"value")};var O=function(t){return function(e,n,r){var i={};return n=F(n),S(e,function(s,o){var a=n.call(r,s,o,e);t(i,a,s)}),i}};E.groupBy=O(function(t,e,n){E.has(t,e)?t[e].push(n):t[e]=[n]}),E.indexBy=O(function(t,e,n){t[e]=n}),E.countBy=O(function(t,e){E.has(t,e)?t[e]++:t[e]=1}),E.sortedIndex=function(t,e,n,r){n=F(n);for(var i=n.call(r,e),s=0,o=t.length;o>s;){var a=s+o>>>1;n.call(r,t[a])<i?s=a+1:o=a}return s},E.toArray=function(t){return t?E.isArray(t)?l.call(t):t.length===+t.length?E.map(t,E.identity):E.values(t):[]},E.size=function(t){return null==t?0:t.length===+t.length?t.length:E.keys(t).length},E.first=E.head=E.take=function(t,e,n){return null!=t?null==e||n?t[0]:0>e?[]:l.call(t,0,e):void 0},E.initial=function(t,e,n){return l.call(t,0,t.length-(null==e||n?1:e))},E.last=function(t,e,n){return null!=t?null==e||n?t[t.length-1]:l.call(t,Math.max(t.length-e,0)):void 0},E.rest=E.tail=E.drop=function(t,e,n){return l.call(t,null==e||n?1:e)},E.compact=function(t){return E.filter(t,E.identity)};var j=function(t,e,n){return e&&E.every(t,E.isArray)?c.apply(n,t):(S(t,function(t){E.isArray(t)||E.isArguments(t)?e?u.apply(n,t):j(t,e,n):n.push(t)}),n)};E.flatten=function(t,e){return j(t,e,[])},E.without=function(t){return E.difference(t,l.call(arguments,1))},E.partition=function(t,e){var n=[],r=[];return S(t,function(t){(e(t)?n:r).push(t)}),[n,r]},E.uniq=E.unique=function(t,e,n,r){E.isFunction(e)&&(r=n,n=e,e=!1);var i=n?E.map(t,n,r):t,s=[],o=[];return S(i,function(n,r){(e?r&&o[o.length-1]===n:E.contains(o,n))||(o.push(n),s.push(t[r]))}),s},E.union=function(){return E.uniq(E.flatten(arguments,!0))},E.intersection=function(t){var e=l.call(arguments,1);return E.filter(E.uniq(t),function(t){return E.every(e,function(e){return E.contains(e,t)})})},E.difference=function(t){var e=c.apply(s,l.call(arguments,1));return E.filter(t,function(t){return!E.contains(e,t)})},E.zip=function(){for(var t=E.max(E.pluck(arguments,"length").concat(0)),e=new Array(t),n=0;t>n;n++)e[n]=E.pluck(arguments,""+n);return e},E.object=function(t,e){if(null==t)return{};for(var n={},r=0,i=t.length;i>r;r++)e?n[t[r]]=e[r]:n[t[r][0]]=t[r][1];return n},E.indexOf=function(t,e,n){if(null==t)return-1;var r=0,i=t.length;if(n){if("number"!=typeof n)return r=E.sortedIndex(t,e),t[r]===e?r:-1;r=0>n?Math.max(0,i+n):n}if(_&&t.indexOf===_)return t.indexOf(e,n);for(;i>r;r++)if(t[r]===e)return r;return-1},E.lastIndexOf=function(t,e,n){if(null==t)return-1;var r=null!=n;if(x&&t.lastIndexOf===x)return r?t.lastIndexOf(e,n):t.lastIndexOf(e);for(var i=r?n:t.length;i--;)if(t[i]===e)return i;return-1},E.range=function(t,e,n){arguments.length<=1&&(e=t||0,t=0),n=arguments[2]||1;for(var r=Math.max(Math.ceil((e-t)/n),0),i=0,s=new Array(r);r>i;)s[i++]=t,t+=n;return s};var P=function(){};E.bind=function(t,e){var n,r;if(k&&t.bind===k)return k.apply(t,l.call(arguments,1));if(!E.isFunction(t))throw new TypeError;return n=l.call(arguments,2),r=function(){if(!(this instanceof r))return t.apply(e,n.concat(l.call(arguments)));P.prototype=t.prototype;var i=new P;P.prototype=null;var s=t.apply(i,n.concat(l.call(arguments)));return Object(s)===s?s:i}},E.partial=function(t){var e=l.call(arguments,1);return function(){for(var n=0,r=e.slice(),i=0,s=r.length;s>i;i++)r[i]===E&&(r[i]=arguments[n++]);for(;n<arguments.length;)r.push(arguments[n++]);return t.apply(this,r)}},E.bindAll=function(t){var e=l.call(arguments,1);if(0===e.length)throw new Error("bindAll must be passed function names");return S(e,function(e){t[e]=E.bind(t[e],t)}),t},E.memoize=function(t,e){var n={};return e||(e=E.identity),function(){var r=e.apply(this,arguments);return E.has(n,r)?n[r]:n[r]=t.apply(this,arguments)}},E.delay=function(t,e){var n=l.call(arguments,2);return setTimeout(function(){return t.apply(null,n)},e)},E.defer=function(t){return E.delay.apply(E,[t,1].concat(l.call(arguments,1)))},E.throttle=function(t,e,n){var r,i,s,o=null,a=0;n||(n={});var u=function(){a=n.leading===!1?0:E.now(),o=null,s=t.apply(r,i),r=i=null};return function(){var l=E.now();a||n.leading!==!1||(a=l);var c=e-(l-a);return r=this,i=arguments,0>=c?(clearTimeout(o),o=null,a=l,s=t.apply(r,i),r=i=null):o||n.trailing===!1||(o=setTimeout(u,c)),s}},E.debounce=function(t,e,n){var r,i,s,o,a,u=function(){var l=E.now()-o;e>l?r=setTimeout(u,e-l):(r=null,n||(a=t.apply(s,i),s=i=null))};return function(){s=this,i=arguments,o=E.now();var l=n&&!r;return r||(r=setTimeout(u,e)),l&&(a=t.apply(s,i),s=i=null),a}},E.once=function(t){var e,n=!1;return function(){return n?e:(n=!0,e=t.apply(this,arguments),t=null,e)}},E.wrap=function(t,e){return E.partial(e,t)},E.compose=function(){var t=arguments;return function(){for(var e=arguments,n=t.length-1;n>=0;n--)e=[t[n].apply(this,e)];return e[0]}},E.after=function(t,e){return function(){return--t<1?e.apply(this,arguments):void 0}},E.keys=function(t){if(!E.isObject(t))return[];if(T)return T(t);var e=[];for(var n in t)E.has(t,n)&&e.push(n);return e},E.values=function(t){for(var e=E.keys(t),n=e.length,r=new Array(n),i=0;n>i;i++)r[i]=t[e[i]];return r},E.pairs=function(t){for(var e=E.keys(t),n=e.length,r=new Array(n),i=0;n>i;i++)r[i]=[e[i],t[e[i]]];return r},E.invert=function(t){for(var e={},n=E.keys(t),r=0,i=n.length;i>r;r++)e[t[n[r]]]=n[r];return e},E.functions=E.methods=function(t){var e=[];for(var n in t)E.isFunction(t[n])&&e.push(n);return e.sort()},E.extend=function(t){return S(l.call(arguments,1),function(e){if(e)for(var n in e)t[n]=e[n]}),t},E.pick=function(t){var e={},n=c.apply(s,l.call(arguments,1));return S(n,function(n){n in t&&(e[n]=t[n])}),e},E.omit=function(t){var e={},n=c.apply(s,l.call(arguments,1));for(var r in t)E.contains(n,r)||(e[r]=t[r]);return e},E.defaults=function(t){return S(l.call(arguments,1),function(e){if(e)for(var n in e)void 0===t[n]&&(t[n]=e[n])}),t},E.clone=function(t){return E.isObject(t)?E.isArray(t)?t.slice():E.extend({},t):t},E.tap=function(t,e){return e(t),t};var N=function(t,e,n,r){if(t===e)return 0!==t||1/t==1/e;if(null==t||null==e)return t===e;t instanceof E&&(t=t._wrapped),e instanceof E&&(e=e._wrapped);var i=h.call(t);if(i!=h.call(e))return!1;switch(i){case"[object String]":return t==String(e);case"[object Number]":return t!=+t?e!=+e:0==t?1/t==1/e:t==+e;case"[object Date]":case"[object Boolean]":return+t==+e;case"[object RegExp]":return t.source==e.source&&t.global==e.global&&t.multiline==e.multiline&&t.ignoreCase==e.ignoreCase}if("object"!=typeof t||"object"!=typeof e)return!1;for(var s=n.length;s--;)if(n[s]==t)return r[s]==e;var o=t.constructor,a=e.constructor;if(o!==a&&!(E.isFunction(o)&&o instanceof o&&E.isFunction(a)&&a instanceof a)&&"constructor"in t&&"constructor"in e)return!1;n.push(t),r.push(e);var u=0,l=!0;if("[object Array]"==i){if(u=t.length,l=u==e.length)for(;u--&&(l=N(t[u],e[u],n,r)););}else{for(var c in t)if(E.has(t,c)&&(u++,!(l=E.has(e,c)&&N(t[c],e[c],n,r))))break;if(l){for(c in e)if(E.has(e,c)&&!u--)break;l=!u}}return n.pop(),r.pop(),l};E.isEqual=function(t,e){return N(t,e,[],[])},E.isEmpty=function(t){if(null==t)return!0;if(E.isArray(t)||E.isString(t))return 0===t.length;for(var e in t)if(E.has(t,e))return!1;return!0},E.isElement=function(t){return!(!t||1!==t.nodeType)},E.isArray=w||function(t){return"[object Array]"==h.call(t)},E.isObject=function(t){return t===Object(t)},S(["Arguments","Function","String","Number","Date","RegExp"],function(t){E["is"+t]=function(e){return h.call(e)=="[object "+t+"]"}}),E.isArguments(arguments)||(E.isArguments=function(t){return!(!t||!E.has(t,"callee"))}),"function"!=typeof/./&&(E.isFunction=function(t){return"function"==typeof t}),E.isFinite=function(t){return isFinite(t)&&!isNaN(parseFloat(t))},E.isNaN=function(t){return E.isNumber(t)&&t!=+t},E.isBoolean=function(t){return t===!0||t===!1||"[object Boolean]"==h.call(t)},E.isNull=function(t){return null===t},E.isUndefined=function(t){return void 0===t},E.has=function(t,e){return f.call(t,e)},E.noConflict=function(){return t._=r,this},E.identity=function(t){return t},E.constant=function(t){return function(){return t}},E.property=function(t){return function(e){return e[t]}},E.matches=function(t){return function(e){if(e===t)return!0;for(var n in t)if(t[n]!==e[n])return!1;return!0}},E.times=function(t,e,n){for(var r=Array(Math.max(0,t)),i=0;t>i;i++)r[i]=e.call(n,i);return r},E.random=function(t,e){return null==e&&(e=t,t=0),t+Math.floor(Math.random()*(e-t+1))},E.now=Date.now||function(){return(new Date).getTime()};var C={escape:{"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;"}};C.unescape=E.invert(C.escape);var M={escape:new RegExp("["+E.keys(C.escape).join("")+"]","g"),unescape:new RegExp("("+E.keys(C.unescape).join("|")+")","g")};E.each(["escape","unescape"],function(t){E[t]=function(e){return null==e?"":(""+e).replace(M[t],function(e){return C[t][e]})}}),E.result=function(t,e){if(null!=t){var n=t[e];return E.isFunction(n)?n.call(t):n}},E.mixin=function(t){S(E.functions(t),function(e){var n=E[e]=t[e];E.prototype[e]=function(){var t=[this._wrapped];return u.apply(t,arguments),q.call(this,n.apply(E,t))}})};var H=0;E.uniqueId=function(t){var e=++H+"";return t?t+e:e},E.templateSettings={evaluate:/<%([\s\S]+?)%>/g,interpolate:/<%=([\s\S]+?)%>/g,escape:/<%-([\s\S]+?)%>/g};var R=/(.)^/,$={"'":"'","\\":"\\","\r":"r","\n":"n","	":"t","\u2028":"u2028","\u2029":"u2029"},D=/\\|'|\r|\n|\t|\u2028|\u2029/g;E.template=function(t,e,n){var r;n=E.defaults({},n,E.templateSettings);var i=new RegExp([(n.escape||R).source,(n.interpolate||R).source,(n.evaluate||R).source].join("|")+"|$","g"),s=0,o="__p+='";t.replace(i,function(e,n,r,i,a){return o+=t.slice(s,a).replace(D,function(t){return"\\"+$[t]}),n&&(o+="'+\n((__t=("+n+"))==null?'':_.escape(__t))+\n'"),r&&(o+="'+\n((__t=("+r+"))==null?'':__t)+\n'"),i&&(o+="';\n"+i+"\n__p+='"),s=a+e.length,e}),o+="';\n",n.variable||(o="with(obj||{}){\n"+o+"}\n"),o="var __t,__p='',__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,'');};\n"+o+"return __p;\n";try{r=new Function(n.variable||"obj","_",o)}catch(a){throw a.source=o,a}if(e)return r(e,E);var u=function(t){return r.call(this,t,E)};return u.source="function("+(n.variable||"obj")+"){\n"+o+"}",u},E.chain=function(t){return E(t).chain()};var q=function(t){return this._chain?E(t).chain():t};E.mixin(E),S(["pop","push","reverse","shift","sort","splice","unshift"],function(t){var e=s[t];E.prototype[t]=function(){var n=this._wrapped;return e.apply(n,arguments),"shift"!=t&&"splice"!=t||0!==n.length||delete n[0],q.call(this,n)}}),S(["concat","join","slice"],function(t){var e=s[t];E.prototype[t]=function(){return q.call(this,e.apply(this._wrapped,arguments))}}),E.extend(E.prototype,{chain:function(){return this._chain=!0,this},value:function(){return this._wrapped}}),"function"==typeof define&&define.amd&&define("underscore",[],function(){return E})}).call(this)},{}],Draggable:[function(t,e,n){e["export"]={}},{}],DrawSVGPlugin:[function(t,e,n){(function(t){var n="undefined"!=typeof e&&e.exports&&"undefined"!=typeof t?t:this||window;(n._gsQueue||(n._gsQueue=[])).push(function(){"use strict";function t(t,e,n,r){return n=parseFloat(n)-parseFloat(t),r=parseFloat(r)-parseFloat(e),Math.sqrt(n*n+r*r)}function e(t){return"string"!=typeof t&&t.nodeType||(t=n.TweenLite.selector(t),t.length&&(t=t[0])),t}function r(t,e,n){var r,i,s=t.indexOf(" ");return-1===s?(r=void 0!==n?n+"":t,i=t):(r=t.substr(0,s),i=t.substr(s+1)),r=-1!==r.indexOf("%")?parseFloat(r)/100*e:parseFloat(r),i=-1!==i.indexOf("%")?parseFloat(i)/100*e:parseFloat(i),r>i?[i,r]:[r,i]}function i(n){if(!n)return 0;n=e(n);var r,i,s,o,a,l,c,h=n.tagName.toLowerCase();if("path"===h){o=n.style.strokeDasharray,n.style.strokeDasharray="none",r=n.getTotalLength()||0;try{i=n.getBBox()}catch(f){}n.style.strokeDasharray=o}else if("rect"===h)r=2*n.getAttribute("width")+2*n.getAttribute("height");else if("circle"===h)r=2*Math.PI*parseFloat(n.getAttribute("r"));else if("line"===h)r=t(n.getAttribute("x1"),n.getAttribute("y1"),n.getAttribute("x2"),n.getAttribute("y2"));else if("polyline"===h||"polygon"===h)for(s=n.getAttribute("points").match(u)||[],"polygon"===h&&s.push(s[0],s[1]),r=0,a=2;a<s.length;a+=2)r+=t(s[a-2],s[a-1],s[a],s[a+1])||0;else"ellipse"===h&&(l=parseFloat(n.getAttribute("rx")),c=parseFloat(n.getAttribute("ry")),r=Math.PI*(3*(l+c)-Math.sqrt((3*l+c)*(l+3*c))));return r||0}function s(t,n){if(!t)return[0,0];t=e(t),n=n||i(t)+1;var r=a(t),s=r.strokeDasharray||"",o=parseFloat(r.strokeDashoffset),u=s.indexOf(",");return 0>u&&(u=s.indexOf(" ")),s=0>u?n:parseFloat(s.substr(0,u))||1e-5,s>n&&(s=n),[Math.max(0,-o),Math.max(0,s-o)]}var o,a=document.defaultView?document.defaultView.getComputedStyle:function(){},u=/(?:(-|-=|\+=)?\d*\.?\d*(?:e[\-+]?\d+)?)[0-9]/gi;o=n._gsDefine.plugin({propName:"drawSVG",API:2,version:"0.0.10",global:!0,overwriteProps:["drawSVG"],init:function(t,e,n){if(!t.getBBox)return!1;var o,a,u,l=i(t)+1;return this._style=t.style,e===!0||"true"===e?e="0 100%":e?-1===(e+"").indexOf(" ")&&(e="0 "+e):e="0 0",o=s(t,l),a=r(e,l,o[0]),this._length=l+10,0===o[0]&&0===a[0]?(u=Math.max(1e-5,a[1]-l),this._dash=l+u,this._offset=l-o[1]+u,this._addTween(this,"_offset",this._offset,l-a[1]+u,"drawSVG")):(this._dash=o[1]-o[0]||1e-6,this._offset=-o[0],this._addTween(this,"_dash",this._dash,a[1]-a[0]||1e-5,"drawSVG"),this._addTween(this,"_offset",this._offset,-a[0],"drawSVG")),!0},set:function(t){this._firstPT&&(this._super.setRatio.call(this,t),this._style.strokeDashoffset=this._offset,1===t||0===t?this._style.strokeDasharray=this._offset<.001&&this._length-this._dash<=10?"none":this._offset===this._dash?"0px, 999999px":this._dash+"px,"+this._length+"px":this._style.strokeDasharray=this._dash+"px,"+this._length+"px")}}),o.getLength=i,o.getPosition=s}),n._gsDefine&&n._gsQueue.pop()()}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],backbone:[function(t,e,n){(function(e){!function(r){var i="object"==typeof self&&self.self==self&&self||"object"==typeof e&&e.global==e&&e;if("function"==typeof define&&define.amd)define(["underscore","jquery","exports"],function(t,e,n){i.Backbone=r(i,n,t,e)});else if("undefined"!=typeof n){var s,o=t("underscore");r(i,n,o,s)}else i.Backbone=r(i,{},i._,i.jQuery||i.Zepto||i.ender||i.$)}(function(t,e,n,r){var i=t.Backbone,s=[].slice;e.VERSION="1.2.1",e.$=r,e.noConflict=function(){return t.Backbone=i,this},e.emulateHTTP=!1,e.emulateJSON=!1;var o=function(t,e,r){switch(t){case 1:return function(){return n[e](this[r])};case 2:return function(t){return n[e](this[r],t)};case 3:return function(t,i){return n[e](this[r],u(t,this),i)};case 4:return function(t,i,s){return n[e](this[r],u(t,this),i,s)};default:return function(){var t=s.call(arguments);return t.unshift(this[r]),n[e].apply(n,t)}}},a=function(t,e,r){n.each(e,function(e,i){n[i]&&(t.prototype[i]=o(e,i,r))})},u=function(t,e){return n.isFunction(t)?t:n.isObject(t)&&!e._isModel(t)?l(t):n.isString(t)?function(e){return e.get(t)}:t},l=function(t){var e=n.matches(t);return function(t){return e(t.attributes)}},c=e.Events={},h=/\s+/,f=function(t,e,r,i,s){var o,a=0;if(r&&"object"==typeof r){void 0!==i&&"context"in s&&void 0===s.context&&(s.context=i);for(o=n.keys(r);a<o.length;a++)e=f(t,e,o[a],r[o[a]],s)}else if(r&&h.test(r))for(o=r.split(h);a<o.length;a++)e=t(e,o[a],i,s);else e=t(e,r,i,s);return e};c.on=function(t,e,n){return d(this,t,e,n)};var d=function(t,e,n,r,i){if(t._events=f(p,t._events||{},e,n,{context:r,ctx:t,listening:i}),i){var s=t._listeners||(t._listeners={});s[i.id]=i}return t};c.listenTo=function(t,e,r){if(!t)return this;var i=t._listenId||(t._listenId=n.uniqueId("l")),s=this._listeningTo||(this._listeningTo={}),o=s[i];if(!o){var a=this._listenId||(this._listenId=n.uniqueId("l"));o=s[i]={obj:t,objId:i,id:a,listeningTo:s,count:0}}return d(t,e,r,this,o),this};var p=function(t,e,n,r){if(n){var i=t[e]||(t[e]=[]),s=r.context,o=r.ctx,a=r.listening;a&&a.count++,i.push({callback:n,context:s,ctx:s||o,listening:a})}return t};c.off=function(t,e,n){return this._events?(this._events=f(v,this._events,t,e,{context:n,listeners:this._listeners}),this):this},c.stopListening=function(t,e,r){var i=this._listeningTo;if(!i)return this;for(var s=t?[t._listenId]:n.keys(i),o=0;o<s.length;o++){var a=i[s[o]];if(!a)break;a.obj.off(e,r,this)}return n.isEmpty(i)&&(this._listeningTo=void 0),this};var v=function(t,e,r,i){if(t){var s,o=0,a=i.context,u=i.listeners;if(e||r||a){for(var l=e?[e]:n.keys(t);o<l.length;o++){e=l[o];var c=t[e];if(!c)break;for(var h=[],f=0;f<c.length;f++){var d=c[f];r&&r!==d.callback&&r!==d.callback._callback||a&&a!==d.context?h.push(d):(s=d.listening,s&&0===--s.count&&(delete u[s.id],delete s.listeningTo[s.objId]))}h.length?t[e]=h:delete t[e]}return n.size(t)?t:void 0}for(var p=n.keys(u);o<p.length;o++)s=u[p[o]],delete u[s.id],delete s.listeningTo[s.objId]}};c.once=function(t,e,r){var i=f(g,{},t,e,n.bind(this.off,this));return this.on(i,void 0,r)},c.listenToOnce=function(t,e,r){var i=f(g,{},e,r,n.bind(this.stopListening,this,t));return this.listenTo(t,i)};var g=function(t,e,r,i){if(r){var s=t[e]=n.once(function(){i(e,s),r.apply(this,arguments)});s._callback=r}return t};c.trigger=function(t){if(!this._events)return this;for(var e=Math.max(0,arguments.length-1),n=Array(e),r=0;e>r;r++)n[r]=arguments[r+1];return f(m,this._events,t,void 0,n),this};var m=function(t,e,n,r){if(t){var i=t[e],s=t.all;i&&s&&(s=s.slice()),i&&y(i,r),s&&y(s,[e].concat(r))}return t},y=function(t,e){var n,r=-1,i=t.length,s=e[0],o=e[1],a=e[2];switch(e.length){case 0:for(;++r<i;)(n=t[r]).callback.call(n.ctx);return;case 1:for(;++r<i;)(n=t[r]).callback.call(n.ctx,s);return;case 2:for(;++r<i;)(n=t[r]).callback.call(n.ctx,s,o);return;case 3:for(;++r<i;)(n=t[r]).callback.call(n.ctx,s,o,a);return;default:for(;++r<i;)(n=t[r]).callback.apply(n.ctx,e);return}};c.bind=c.on,c.unbind=c.off,n.extend(e,c);var b=e.Model=function(t,e){var r=t||{};e||(e={}),this.cid=n.uniqueId(this.cidPrefix),this.attributes={},e.collection&&(this.collection=e.collection),e.parse&&(r=this.parse(r,e)||{}),r=n.defaults({},r,n.result(this,"defaults")),this.set(r,e),this.changed={},this.initialize.apply(this,arguments)};n.extend(b.prototype,c,{changed:null,validationError:null,idAttribute:"id",cidPrefix:"c",initialize:function(){},toJSON:function(t){return n.clone(this.attributes)},sync:function(){return e.sync.apply(this,arguments)},get:function(t){return this.attributes[t]},escape:function(t){return n.escape(this.get(t))},has:function(t){return null!=this.get(t)},matches:function(t){return!!n.iteratee(t,this)(this.attributes)},set:function(t,e,r){if(null==t)return this;var i;if("object"==typeof t?(i=t,r=e):(i={})[t]=e,r||(r={}),!this._validate(i,r))return!1;var s=r.unset,o=r.silent,a=[],u=this._changing;this._changing=!0,u||(this._previousAttributes=n.clone(this.attributes),this.changed={});var l=this.attributes,c=this.changed,h=this._previousAttributes;for(var f in i)e=i[f],n.isEqual(l[f],e)||a.push(f),n.isEqual(h[f],e)?delete c[f]:c[f]=e,s?delete l[f]:l[f]=e;if(this.id=this.get(this.idAttribute),!o){a.length&&(this._pending=r);for(var d=0;d<a.length;d++)this.trigger("change:"+a[d],this,l[a[d]],r)}if(u)return this;if(!o)for(;this._pending;)r=this._pending,this._pending=!1,this.trigger("change",this,r);return this._pending=!1,this._changing=!1,this},unset:function(t,e){return this.set(t,void 0,n.extend({},e,{unset:!0}))},clear:function(t){var e={};for(var r in this.attributes)e[r]=void 0;return this.set(e,n.extend({},t,{unset:!0}))},hasChanged:function(t){return null==t?!n.isEmpty(this.changed):n.has(this.changed,t)},changedAttributes:function(t){if(!t)return this.hasChanged()?n.clone(this.changed):!1;var e=this._changing?this._previousAttributes:this.attributes,r={};for(var i in t){var s=t[i];n.isEqual(e[i],s)||(r[i]=s)}return n.size(r)?r:!1},previous:function(t){return null!=t&&this._previousAttributes?this._previousAttributes[t]:null},previousAttributes:function(){return n.clone(this._previousAttributes)},fetch:function(t){t=n.extend({parse:!0},t);var e=this,r=t.success;return t.success=function(n){var i=t.parse?e.parse(n,t):n;return e.set(i,t)?(r&&r.call(t.context,e,n,t),void e.trigger("sync",e,n,t)):!1},q(this,t),this.sync("read",this,t)},save:function(t,e,r){var i;null==t||"object"==typeof t?(i=t,r=e):(i={})[t]=e,r=n.extend({validate:!0,parse:!0},r);var s=r.wait;if(i&&!s){if(!this.set(i,r))return!1}else if(!this._validate(i,r))return!1;var o=this,a=r.success,u=this.attributes;r.success=function(t){o.attributes=u;var e=r.parse?o.parse(t,r):t;return s&&(e=n.extend({},i,e)),e&&!o.set(e,r)?!1:(a&&a.call(r.context,o,t,r),void o.trigger("sync",o,t,r))},q(this,r),i&&s&&(this.attributes=n.extend({},u,i));var l=this.isNew()?"create":r.patch?"patch":"update";"patch"!==l||r.attrs||(r.attrs=i);var c=this.sync(l,this,r);return this.attributes=u,c},destroy:function(t){t=t?n.clone(t):{};var e=this,r=t.success,i=t.wait,s=function(){e.stopListening(),e.trigger("destroy",e,e.collection,t)};t.success=function(n){i&&s(),r&&r.call(t.context,e,n,t),e.isNew()||e.trigger("sync",e,n,t)};var o=!1;return this.isNew()?n.defer(t.success):(q(this,t),o=this.sync("delete",this,t)),i||s(),o},url:function(){var t=n.result(this,"urlRoot")||n.result(this.collection,"url")||D();if(this.isNew())return t;var e=this.get(this.idAttribute);return t.replace(/[^\/]$/,"$&/")+encodeURIComponent(e)},parse:function(t,e){return t},clone:function(){return new this.constructor(this.attributes)},isNew:function(){return!this.has(this.idAttribute)},isValid:function(t){return this._validate({},n.defaults({validate:!0},t))},_validate:function(t,e){if(!e.validate||!this.validate)return!0;t=n.extend({},this.attributes,t);var r=this.validationError=this.validate(t,e)||null;return r?(this.trigger("invalid",this,r,n.extend(e,{validationError:r})),!1):!0}});var _={keys:1,values:1,pairs:1,invert:1,pick:0,omit:0,chain:1,isEmpty:1};a(b,_,"attributes");var x=e.Collection=function(t,e){e||(e={}),e.model&&(this.model=e.model),void 0!==e.comparator&&(this.comparator=e.comparator),this._reset(),this.initialize.apply(this,arguments),t&&this.reset(t,n.extend({silent:!0},e))},w={add:!0,remove:!0,merge:!0},T={add:!0,remove:!1};n.extend(x.prototype,c,{model:b,initialize:function(){},toJSON:function(t){return this.map(function(e){return e.toJSON(t)})},sync:function(){return e.sync.apply(this,arguments)},add:function(t,e){return this.set(t,n.extend({merge:!1},e,T))},remove:function(t,e){e=n.extend({},e);var r=!n.isArray(t);t=r?[t]:n.clone(t);var i=this._removeModels(t,e);return!e.silent&&i&&this.trigger("update",this,e),r?i[0]:i},set:function(t,e){e=n.defaults({},e,w),e.parse&&!this._isModel(t)&&(t=this.parse(t,e));var r=!n.isArray(t);t=r?t?[t]:[]:t.slice();var i,s,o,a,u,l=e.at;null!=l&&(l=+l),0>l&&(l+=this.length+1);for(var c=this.comparator&&null==l&&e.sort!==!1,h=n.isString(this.comparator)?this.comparator:null,f=[],d=[],p={},v=e.add,g=e.merge,m=e.remove,y=!c&&v&&m?[]:!1,b=!1,_=0;_<t.length;_++){if(o=t[_],a=this.get(o))m&&(p[a.cid]=!0),g&&o!==a&&(o=this._isModel(o)?o.attributes:o,e.parse&&(o=a.parse(o,e)),a.set(o,e),c&&!u&&a.hasChanged(h)&&(u=!0)),t[_]=a;else if(v){if(s=t[_]=this._prepareModel(o,e),!s)continue;f.push(s),this._addReference(s,e)}s=a||s,s&&(i=this.modelId(s.attributes),!y||!s.isNew()&&p[i]||(y.push(s),b=b||!this.models[_]||s.cid!==this.models[_].cid),p[i]=!0)}if(m){for(var _=0;_<this.length;_++)p[(s=this.models[_]).cid]||d.push(s);d.length&&this._removeModels(d,e)}if(f.length||b)if(c&&(u=!0),this.length+=f.length,null!=l)for(var _=0;_<f.length;_++)this.models.splice(l+_,0,f[_]);else{y&&(this.models.length=0);for(var x=y||f,_=0;_<x.length;_++)this.models.push(x[_])}if(u&&this.sort({silent:!0}),!e.silent){for(var T=null!=l?n.clone(e):e,_=0;_<f.length;_++)null!=l&&(T.index=l+_),(s=f[_]).trigger("add",s,this,T);(u||b)&&this.trigger("sort",this,e),(f.length||d.length)&&this.trigger("update",this,e)}return r?t[0]:t},reset:function(t,e){e=e?n.clone(e):{};for(var r=0;r<this.models.length;r++)this._removeReference(this.models[r],e);return e.previousModels=this.models,this._reset(),t=this.add(t,n.extend({silent:!0},e)),e.silent||this.trigger("reset",this,e),t},push:function(t,e){return this.add(t,n.extend({at:this.length},e))},pop:function(t){var e=this.at(this.length-1);return this.remove(e,t)},unshift:function(t,e){return this.add(t,n.extend({at:0},e))},shift:function(t){var e=this.at(0);return this.remove(e,t)},slice:function(){return s.apply(this.models,arguments)},get:function(t){if(null!=t){var e=this.modelId(this._isModel(t)?t.attributes:t);return this._byId[t]||this._byId[e]||this._byId[t.cid]}},at:function(t){return 0>t&&(t+=this.length),this.models[t]},where:function(t,e){return this[e?"find":"filter"](t)},findWhere:function(t){return this.where(t,!0)},sort:function(t){if(!this.comparator)throw new Error("Cannot sort a set without a comparator");return t||(t={}),n.isString(this.comparator)||1===this.comparator.length?this.models=this.sortBy(this.comparator,this):this.models.sort(n.bind(this.comparator,this)),t.silent||this.trigger("sort",this,t),this},pluck:function(t){return n.invoke(this.models,"get",t)},fetch:function(t){t=n.extend({parse:!0},t);var e=t.success,r=this;return t.success=function(n){var i=t.reset?"reset":"set";r[i](n,t),e&&e.call(t.context,r,n,t),r.trigger("sync",r,n,t)},q(this,t),this.sync("read",this,t)},create:function(t,e){e=e?n.clone(e):{};var r=e.wait;if(t=this._prepareModel(t,e),!t)return!1;r||this.add(t,e);var i=this,s=e.success;return e.success=function(t,e,n){r&&i.add(t,n),s&&s.call(n.context,t,e,n)},t.save(null,e),t},parse:function(t,e){return t},clone:function(){return new this.constructor(this.models,{model:this.model,comparator:this.comparator})},modelId:function(t){return t[this.model.prototype.idAttribute||"id"]},_reset:function(){this.length=0,this.models=[],this._byId={}},_prepareModel:function(t,e){if(this._isModel(t))return t.collection||(t.collection=this),t;e=e?n.clone(e):{},e.collection=this;var r=new this.model(t,e);return r.validationError?(this.trigger("invalid",this,r.validationError,e),!1):r},_removeModels:function(t,e){for(var n=[],r=0;r<t.length;r++){var i=this.get(t[r]);if(i){var s=this.indexOf(i);this.models.splice(s,1),this.length--,e.silent||(e.index=s,i.trigger("remove",i,this,e)),n.push(i),this._removeReference(i,e)}}return n.length?n:!1},_isModel:function(t){return t instanceof b},_addReference:function(t,e){this._byId[t.cid]=t;var n=this.modelId(t.attributes);null!=n&&(this._byId[n]=t),t.on("all",this._onModelEvent,this)},_removeReference:function(t,e){delete this._byId[t.cid];var n=this.modelId(t.attributes);null!=n&&delete this._byId[n],this===t.collection&&delete t.collection,t.off("all",this._onModelEvent,this)},_onModelEvent:function(t,e,n,r){if("add"!==t&&"remove"!==t||n===this){if("destroy"===t&&this.remove(e,r),"change"===t){var i=this.modelId(e.previousAttributes()),s=this.modelId(e.attributes);i!==s&&(null!=i&&delete this._byId[i],null!=s&&(this._byId[s]=e))}this.trigger.apply(this,arguments)}}});var k={forEach:3,each:3,map:3,collect:3,reduce:4,foldl:4,inject:4,reduceRight:4,foldr:4,find:3,detect:3,filter:3,select:3,reject:3,every:3,all:3,some:3,any:3,include:2,contains:2,invoke:0,max:3,min:3,toArray:1,size:1,first:3,head:3,take:3,initial:3,rest:3,tail:3,drop:3,last:3,without:0,difference:0,indexOf:3,shuffle:1,lastIndexOf:3,isEmpty:1,chain:1,sample:3,partition:3,groupBy:3,countBy:3,sortBy:3,indexBy:3};a(x,k,"models");var E=e.View=function(t){this.cid=n.uniqueId("view"),n.extend(this,n.pick(t,A)),this._ensureElement(),this.initialize.apply(this,arguments)},S=/^(\S+)\s*(.*)$/,A=["model","collection","el","id","attributes","className","tagName","events"];n.extend(E.prototype,c,{tagName:"div",$:function(t){return this.$el.find(t)},initialize:function(){},render:function(){return this},remove:function(){return this._removeElement(),this.stopListening(),this},_removeElement:function(){this.$el.remove()},setElement:function(t){return this.undelegateEvents(),this._setElement(t),
this.delegateEvents(),this},_setElement:function(t){this.$el=t instanceof e.$?t:e.$(t),this.el=this.$el[0]},delegateEvents:function(t){if(t||(t=n.result(this,"events")),!t)return this;this.undelegateEvents();for(var e in t){var r=t[e];if(n.isFunction(r)||(r=this[r]),r){var i=e.match(S);this.delegate(i[1],i[2],n.bind(r,this))}}return this},delegate:function(t,e,n){return this.$el.on(t+".delegateEvents"+this.cid,e,n),this},undelegateEvents:function(){return this.$el&&this.$el.off(".delegateEvents"+this.cid),this},undelegate:function(t,e,n){return this.$el.off(t+".delegateEvents"+this.cid,e,n),this},_createElement:function(t){return document.createElement(t)},_ensureElement:function(){if(this.el)this.setElement(n.result(this,"el"));else{var t=n.extend({},n.result(this,"attributes"));this.id&&(t.id=n.result(this,"id")),this.className&&(t["class"]=n.result(this,"className")),this.setElement(this._createElement(n.result(this,"tagName"))),this._setAttributes(t)}},_setAttributes:function(t){this.$el.attr(t)}}),e.sync=function(t,r,i){var s=I[t];n.defaults(i||(i={}),{emulateHTTP:e.emulateHTTP,emulateJSON:e.emulateJSON});var o={type:s,dataType:"json"};if(i.url||(o.url=n.result(r,"url")||D()),null!=i.data||!r||"create"!==t&&"update"!==t&&"patch"!==t||(o.contentType="application/json",o.data=JSON.stringify(i.attrs||r.toJSON(i))),i.emulateJSON&&(o.contentType="application/x-www-form-urlencoded",o.data=o.data?{model:o.data}:{}),i.emulateHTTP&&("PUT"===s||"DELETE"===s||"PATCH"===s)){o.type="POST",i.emulateJSON&&(o.data._method=s);var a=i.beforeSend;i.beforeSend=function(t){return t.setRequestHeader("X-HTTP-Method-Override",s),a?a.apply(this,arguments):void 0}}"GET"===o.type||i.emulateJSON||(o.processData=!1);var u=i.error;i.error=function(t,e,n){i.textStatus=e,i.errorThrown=n,u&&u.call(i.context,t,e,n)};var l=i.xhr=e.ajax(n.extend(o,i));return r.trigger("request",r,l,i),l};var I={create:"POST",update:"PUT",patch:"PATCH","delete":"DELETE",read:"GET"};e.ajax=function(){return e.$.ajax.apply(e.$,arguments)};var F=e.Router=function(t){t||(t={}),t.routes&&(this.routes=t.routes),this._bindRoutes(),this.initialize.apply(this,arguments)},O=/\((.*?)\)/g,j=/(\(\?)?:\w+/g,P=/\*\w+/g,N=/[\-{}\[\]+?.,\\\^$|#\s]/g;n.extend(F.prototype,c,{initialize:function(){},route:function(t,r,i){n.isRegExp(t)||(t=this._routeToRegExp(t)),n.isFunction(r)&&(i=r,r=""),i||(i=this[r]);var s=this;return e.history.route(t,function(n){var o=s._extractParameters(t,n);s.execute(i,o,r)!==!1&&(s.trigger.apply(s,["route:"+r].concat(o)),s.trigger("route",r,o),e.history.trigger("route",s,r,o))}),this},execute:function(t,e,n){t&&t.apply(this,e)},navigate:function(t,n){return e.history.navigate(t,n),this},_bindRoutes:function(){if(this.routes){this.routes=n.result(this,"routes");for(var t,e=n.keys(this.routes);null!=(t=e.pop());)this.route(t,this.routes[t])}},_routeToRegExp:function(t){return t=t.replace(N,"\\$&").replace(O,"(?:$1)?").replace(j,function(t,e){return e?t:"([^/?]+)"}).replace(P,"([^?]*?)"),new RegExp("^"+t+"(?:\\?([\\s\\S]*))?$")},_extractParameters:function(t,e){var r=t.exec(e).slice(1);return n.map(r,function(t,e){return e===r.length-1?t||null:t?decodeURIComponent(t):null})}});var C=e.History=function(){this.handlers=[],this.checkUrl=n.bind(this.checkUrl,this),"undefined"!=typeof window&&(this.location=window.location,this.history=window.history)},M=/^[#\/]|\s+$/g,H=/^\/+|\/+$/g,R=/#.*$/;C.started=!1,n.extend(C.prototype,c,{interval:50,atRoot:function(){var t=this.location.pathname.replace(/[^\/]$/,"$&/");return t===this.root&&!this.getSearch()},matchRoot:function(){var t=this.decodeFragment(this.location.pathname),e=t.slice(0,this.root.length-1)+"/";return e===this.root},decodeFragment:function(t){return decodeURI(t.replace(/%25/g,"%2525"))},getSearch:function(){var t=this.location.href.replace(/#.*/,"").match(/\?.+/);return t?t[0]:""},getHash:function(t){var e=(t||this).location.href.match(/#(.*)$/);return e?e[1]:""},getPath:function(){var t=this.decodeFragment(this.location.pathname+this.getSearch()).slice(this.root.length-1);return"/"===t.charAt(0)?t.slice(1):t},getFragment:function(t){return null==t&&(t=this._usePushState||!this._wantsHashChange?this.getPath():this.getHash()),t.replace(M,"")},start:function(t){if(C.started)throw new Error("Backbone.history has already been started");if(C.started=!0,this.options=n.extend({root:"/"},this.options,t),this.root=this.options.root,this._wantsHashChange=this.options.hashChange!==!1,this._hasHashChange="onhashchange"in window,this._useHashChange=this._wantsHashChange&&this._hasHashChange,this._wantsPushState=!!this.options.pushState,this._hasPushState=!(!this.history||!this.history.pushState),this._usePushState=this._wantsPushState&&this._hasPushState,this.fragment=this.getFragment(),this.root=("/"+this.root+"/").replace(H,"/"),this._wantsHashChange&&this._wantsPushState){if(!this._hasPushState&&!this.atRoot()){var e=this.root.slice(0,-1)||"/";return this.location.replace(e+"#"+this.getPath()),!0}this._hasPushState&&this.atRoot()&&this.navigate(this.getHash(),{replace:!0})}if(!this._hasHashChange&&this._wantsHashChange&&!this._usePushState){this.iframe=document.createElement("iframe"),this.iframe.src="javascript:0",this.iframe.style.display="none",this.iframe.tabIndex=-1;var r=document.body,i=r.insertBefore(this.iframe,r.firstChild).contentWindow;i.document.open(),i.document.close(),i.location.hash="#"+this.fragment}var s=window.addEventListener||function(t,e){return attachEvent("on"+t,e)};return this._usePushState?s("popstate",this.checkUrl,!1):this._useHashChange&&!this.iframe?s("hashchange",this.checkUrl,!1):this._wantsHashChange&&(this._checkUrlInterval=setInterval(this.checkUrl,this.interval)),this.options.silent?void 0:this.loadUrl()},stop:function(){var t=window.removeEventListener||function(t,e){return detachEvent("on"+t,e)};this._usePushState?t("popstate",this.checkUrl,!1):this._useHashChange&&!this.iframe&&t("hashchange",this.checkUrl,!1),this.iframe&&(document.body.removeChild(this.iframe),this.iframe=null),this._checkUrlInterval&&clearInterval(this._checkUrlInterval),C.started=!1},route:function(t,e){this.handlers.unshift({route:t,callback:e})},checkUrl:function(t){var e=this.getFragment();return e===this.fragment&&this.iframe&&(e=this.getHash(this.iframe.contentWindow)),e===this.fragment?!1:(this.iframe&&this.navigate(e),void this.loadUrl())},loadUrl:function(t){return this.matchRoot()?(t=this.fragment=this.getFragment(t),n.some(this.handlers,function(e){return e.route.test(t)?(e.callback(t),!0):void 0})):!1},navigate:function(t,e){if(!C.started)return!1;e&&e!==!0||(e={trigger:!!e}),t=this.getFragment(t||"");var n=this.root;""!==t&&"?"!==t.charAt(0)||(n=n.slice(0,-1)||"/");var r=n+t;if(t=this.decodeFragment(t.replace(R,"")),this.fragment!==t){if(this.fragment=t,this._usePushState)this.history[e.replace?"replaceState":"pushState"]({},document.title,r);else{if(!this._wantsHashChange)return this.location.assign(r);if(this._updateHash(this.location,t,e.replace),this.iframe&&t!==this.getHash(this.iframe.contentWindow)){var i=this.iframe.contentWindow;e.replace||(i.document.open(),i.document.close()),this._updateHash(i.location,t,e.replace)}}return e.trigger?this.loadUrl(t):void 0}},_updateHash:function(t,e,n){if(n){var r=t.href.replace(/(javascript:|#).*$/,"");t.replace(r+"#"+e)}else t.hash="#"+e}}),e.history=new C;var $=function(t,e){var r,i=this;r=t&&n.has(t,"constructor")?t.constructor:function(){return i.apply(this,arguments)},n.extend(r,i,e);var s=function(){this.constructor=r};return s.prototype=i.prototype,r.prototype=new s,t&&n.extend(r.prototype,t),r.__super__=i.prototype,r};b.extend=x.extend=F.extend=E.extend=C.extend=$;var D=function(){throw new Error('A "url" property or function must be specified')},q=function(t,e){var n=e.error;e.error=function(r){n&&n.call(e.context,t,r,e),t.trigger("error",t,r,e)}};return e})}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{underscore:1}],skrollr:[function(t,e,n){!function(t,n,r){"use strict";function i(e){if(s=n.documentElement,o=n.body,G(),ut=this,e=e||{},dt=e.constants||{},e.easing)for(var r in e.easing)K[r]=e.easing[r];_t=e.edgeStrategy||"set",ht={beforerender:e.beforerender,render:e.render,keyframe:e.keyframe},ft=e.forceHeight!==!1,ft&&(Rt=e.scale||1),pt=e.mobileDeceleration||E,gt=e.smoothScrolling!==!1,mt=e.smoothScrollingDuration||A,yt={targetTop:ut.getScrollTop()},Lt=(e.mobileCheck||function(){return/Android|iPhone|iPad|iPod|BlackBerry/i.test(navigator.userAgent||navigator.vendor||t.opera)})(),Lt?(ct=n.getElementById(e.skrollrBody||S),ct&&at(),Q(),jt(s,[b,w],[_])):jt(s,[b,x],[_]),ut.refresh(),Tt(t,"resize orientationchange",function(){var t=s.clientWidth,e=s.clientHeight;e===Ut&&t===Bt||(Ut=e,Bt=t,zt=!0)});var i=J();return function a(){Z(),wt=i(a)}(),ut}var s,o,a={get:function(){return ut},init:function(t){return ut||new i(t)},VERSION:"0.6.30"},u=Object.prototype.hasOwnProperty,l=t.Math,c=t.getComputedStyle,h="touchstart",f="touchmove",d="touchcancel",p="touchend",v="skrollable",g=v+"-before",m=v+"-between",y=v+"-after",b="skrollr",_="no-"+b,x=b+"-desktop",w=b+"-mobile",T="linear",k=1e3,E=.004,S="skrollr-body",A=200,I="start",F="end",O="center",j="bottom",P="___skrollable_id",N=/^(?:input|textarea|button|select)$/i,C=/^\s+|\s+$/g,M=/^data(?:-(_\w+))?(?:-?(-?\d*\.?\d+p?))?(?:-?(start|end|top|center|bottom))?(?:-?(top|center|bottom))?$/,H=/\s*(@?[\w\-\[\]]+)\s*:\s*(.+?)\s*(?:;|$)/gi,R=/^(@?[a-z\-]+)\[(\w+)\]$/,$=/-([a-z0-9_])/g,D=function(t,e){return e.toUpperCase()},q=/[\-+]?[\d]*\.?[\d]+/g,B=/\{\?\}/g,U=/rgba?\(\s*-?\d+\s*,\s*-?\d+\s*,\s*-?\d+/g,z=/[a-z\-]+-gradient/g,V="",L="",G=function(){var t=/^(?:O|Moz|webkit|ms)|(?:-(?:o|moz|webkit|ms)-)/;if(c){var e=c(o,null);for(var n in e)if(V=n.match(t)||+n==n&&e[n].match(t))break;if(!V)return void(V=L="");V=V[0],"-"===V.slice(0,1)?(L=V,V={"-webkit-":"webkit","-moz-":"Moz","-ms-":"ms","-o-":"O"}[V]):L="-"+V.toLowerCase()+"-"}},J=function(){var e=t.requestAnimationFrame||t[V.toLowerCase()+"RequestAnimationFrame"],n=Ct();return!Lt&&e||(e=function(e){var r=Ct()-n,i=l.max(0,1e3/60-r);return t.setTimeout(function(){n=Ct(),e()},i)}),e},W=function(){var e=t.cancelAnimationFrame||t[V.toLowerCase()+"CancelAnimationFrame"];return!Lt&&e||(e=function(e){return t.clearTimeout(e)}),e},K={begin:function(){return 0},end:function(){return 1},linear:function(t){return t},quadratic:function(t){return t*t},cubic:function(t){return t*t*t},swing:function(t){return-l.cos(t*l.PI)/2+.5},sqrt:function(t){return l.sqrt(t)},outCubic:function(t){return l.pow(t-1,3)+1},bounce:function(t){var e;if(.5083>=t)e=3;else if(.8489>=t)e=9;else if(.96208>=t)e=27;else{if(!(.99981>=t))return 1;e=91}return 1-l.abs(3*l.cos(t*e*1.028)/e)}};i.prototype.forceReflow=function(){zt=!0},i.prototype.refresh=function(t){var e,i,s=!1;for(t===r?(s=!0,lt=[],Vt=0,t=n.getElementsByTagName("*")):t.length===r&&(t=[t]),e=0,i=t.length;i>e;e++){var o=t[e],a=o,u=[],l=gt,c=_t,h=!1;if(s&&P in o&&delete o[P],o.attributes){for(var f=0,d=o.attributes.length;d>f;f++){var p=o.attributes[f];if("data-anchor-target"!==p.name)if("data-smooth-scrolling"!==p.name)if("data-edge-strategy"!==p.name)if("data-emit-events"!==p.name){var g=p.name.match(M);if(null!==g){var m={props:p.value,element:o,eventType:p.name.replace($,D)};u.push(m);var y=g[1];y&&(m.constant=y.substr(1));var b=g[2];/p$/.test(b)?(m.isPercentage=!0,m.offset=(0|b.slice(0,-1))/100):m.offset=0|b;var _=g[3],x=g[4]||_;_&&_!==I&&_!==F?(m.mode="relative",m.anchors=[_,x]):(m.mode="absolute",_===F?m.isEnd=!0:m.isPercentage||(m.offset=m.offset*Rt))}}else h=!0;else c=p.value;else l="off"!==p.value;else if(a=n.querySelector(p.value),null===a)throw'Unable to find anchor target "'+p.value+'"'}if(u.length){var w,T,k;!s&&P in o?(k=o[P],w=lt[k].styleAttr,T=lt[k].classAttr):(k=o[P]=Vt++,w=o.style.cssText,T=Ot(o)),lt[k]={element:o,styleAttr:w,classAttr:T,anchorTarget:a,keyFrames:u,smoothScrolling:l,edgeStrategy:c,emitEvents:h,lastFrameIndex:-1},jt(o,[v],[])}}}for(At(),e=0,i=t.length;i>e;e++){var E=lt[t[e][P]];E!==r&&(tt(E),nt(E))}return ut},i.prototype.relativeToAbsolute=function(t,e,n){var r=s.clientHeight,i=t.getBoundingClientRect(),o=i.top,a=i.bottom-i.top;return e===j?o-=r:e===O&&(o-=r/2),n===j?o+=a:n===O&&(o+=a/2),o+=ut.getScrollTop(),o+.5|0},i.prototype.animateTo=function(t,e){e=e||{};var n=Ct(),i=ut.getScrollTop(),s=e.duration===r?k:e.duration;return vt={startTop:i,topDiff:t-i,targetTop:t,duration:s,startTime:n,endTime:n+s,easing:K[e.easing||T],done:e.done},vt.topDiff||(vt.done&&vt.done.call(ut,!1),vt=r),ut},i.prototype.stopAnimateTo=function(){vt&&vt.done&&vt.done.call(ut,!0),vt=r},i.prototype.isAnimatingTo=function(){return!!vt},i.prototype.isMobile=function(){return Lt},i.prototype.setScrollTop=function(e,n){return bt=n===!0,Lt?Gt=l.min(l.max(e,0),Ht):t.scrollTo(0,e),ut},i.prototype.getScrollTop=function(){return Lt?Gt:t.pageYOffset||s.scrollTop||o.scrollTop||0},i.prototype.getMaxScrollTop=function(){return Ht},i.prototype.on=function(t,e){return ht[t]=e,ut},i.prototype.off=function(t){return delete ht[t],ut},i.prototype.destroy=function(){var t=W();t(wt),Et(),jt(s,[_],[b,x,w]);for(var e=0,n=lt.length;n>e;e++)ot(lt[e].element);s.style.overflow=o.style.overflow="",s.style.height=o.style.height="",ct&&a.setStyle(ct,"transform","none"),ut=r,ct=r,ht=r,ft=r,Ht=0,Rt=1,dt=r,pt=r,$t="down",Dt=-1,Bt=0,Ut=0,zt=!1,vt=r,gt=r,mt=r,yt=r,bt=r,Vt=0,_t=r,Lt=!1,Gt=0,xt=r};var Q=function(){var e,i,a,u,c,v,g,m,y,b,_,x;Tt(s,[h,f,d,p].join(" "),function(t){var s=t.changedTouches[0];for(u=t.target;3===u.nodeType;)u=u.parentNode;switch(c=s.clientY,v=s.clientX,b=t.timeStamp,N.test(u.tagName)||t.preventDefault(),t.type){case h:e&&e.blur(),ut.stopAnimateTo(),e=u,i=g=c,a=v,y=b;break;case f:N.test(u.tagName)&&n.activeElement!==u&&t.preventDefault(),m=c-g,x=b-_,ut.setScrollTop(Gt-m,!0),g=c,_=b;break;default:case d:case p:var o=i-c,w=a-v,T=w*w+o*o;if(49>T){if(!N.test(e.tagName)){e.focus();var k=n.createEvent("MouseEvents");k.initMouseEvent("click",!0,!0,t.view,1,s.screenX,s.screenY,s.clientX,s.clientY,t.ctrlKey,t.altKey,t.shiftKey,t.metaKey,0,null),e.dispatchEvent(k)}return}e=r;var E=m/x;E=l.max(l.min(E,3),-3);var S=l.abs(E/pt),A=E*S+.5*pt*S*S,I=ut.getScrollTop()-A,F=0;I>Ht?(F=(Ht-I)/A,I=Ht):0>I&&(F=-I/A,I=0),S*=1-F,ut.animateTo(I+.5|0,{easing:"outCubic",duration:S})}}),t.scrollTo(0,0),s.style.overflow=o.style.overflow="hidden"},X=function(){var t,e,n,r,i,o,a,u,c,h,f,d=s.clientHeight,p=It();for(u=0,c=lt.length;c>u;u++)for(t=lt[u],e=t.element,n=t.anchorTarget,r=t.keyFrames,i=0,o=r.length;o>i;i++)a=r[i],h=a.offset,f=p[a.constant]||0,a.frame=h,a.isPercentage&&(h*=d,a.frame=h),"relative"===a.mode&&(ot(e),a.frame=ut.relativeToAbsolute(n,a.anchors[0],a.anchors[1])-h,ot(e,!0)),a.frame+=f,ft&&!a.isEnd&&a.frame>Ht&&(Ht=a.frame);for(Ht=l.max(Ht,Ft()),u=0,c=lt.length;c>u;u++){for(t=lt[u],r=t.keyFrames,i=0,o=r.length;o>i;i++)a=r[i],f=p[a.constant]||0,a.isEnd&&(a.frame=Ht-a.offset+f);t.keyFrames.sort(Mt)}},Y=function(t,e){for(var n=0,r=lt.length;r>n;n++){var i,s,o=lt[n],l=o.element,c=o.smoothScrolling?t:e,h=o.keyFrames,f=h.length,d=h[0],p=h[h.length-1],b=c<d.frame,_=c>p.frame,x=b?d:p,w=o.emitEvents,T=o.lastFrameIndex;if(b||_){if(b&&-1===o.edge||_&&1===o.edge)continue;switch(b?(jt(l,[g],[y,m]),w&&T>-1&&(St(l,d.eventType,$t),o.lastFrameIndex=-1)):(jt(l,[y],[g,m]),w&&f>T&&(St(l,p.eventType,$t),o.lastFrameIndex=f)),o.edge=b?-1:1,o.edgeStrategy){case"reset":ot(l);continue;case"ease":c=x.frame;break;default:case"set":var k=x.props;for(i in k)u.call(k,i)&&(s=st(k[i].value),0===i.indexOf("@")?l.setAttribute(i.substr(1),s):a.setStyle(l,i,s));continue}}else 0!==o.edge&&(jt(l,[v,m],[g,y]),o.edge=0);for(var E=0;f-1>E;E++)if(c>=h[E].frame&&c<=h[E+1].frame){var S=h[E],A=h[E+1];for(i in S.props)if(u.call(S.props,i)){var I=(c-S.frame)/(A.frame-S.frame);I=S.props[i].easing(I),s=it(S.props[i].value,A.props[i].value,I),s=st(s),0===i.indexOf("@")?l.setAttribute(i.substr(1),s):a.setStyle(l,i,s)}w&&T!==E&&("down"===$t?St(l,S.eventType,$t):St(l,A.eventType,$t),o.lastFrameIndex=E);break}}},Z=function(){zt&&(zt=!1,At());var t,e,n=ut.getScrollTop(),i=Ct();if(vt)i>=vt.endTime?(n=vt.targetTop,t=vt.done,vt=r):(e=vt.easing((i-vt.startTime)/vt.duration),n=vt.startTop+e*vt.topDiff|0),ut.setScrollTop(n,!0);else if(!bt){var s=yt.targetTop-n;s&&(yt={startTop:Dt,topDiff:n-Dt,targetTop:n,startTime:qt,endTime:qt+mt}),i<=yt.endTime&&(e=K.sqrt((i-yt.startTime)/mt),n=yt.startTop+e*yt.topDiff|0)}if(bt||Dt!==n){$t=n>Dt?"down":Dt>n?"up":$t,bt=!1;var o={curTop:n,lastTop:Dt,maxTop:Ht,direction:$t},u=ht.beforerender&&ht.beforerender.call(ut,o);u!==!1&&(Y(n,ut.getScrollTop()),Lt&&ct&&a.setStyle(ct,"transform","translate(0, "+-Gt+"px) "+xt),Dt=n,ht.render&&ht.render.call(ut,o)),t&&t.call(ut,!1)}qt=i},tt=function(t){for(var e=0,n=t.keyFrames.length;n>e;e++){for(var r,i,s,o,a=t.keyFrames[e],u={};null!==(o=H.exec(a.props));)s=o[1],i=o[2],r=s.match(R),null!==r?(s=r[1],r=r[2]):r=T,i=i.indexOf("!")?et(i):[i.slice(1)],u[s]={value:i,easing:K[r]};a.props=u}},et=function(t){var e=[];return U.lastIndex=0,t=t.replace(U,function(t){return t.replace(q,function(t){return t/255*100+"%"})}),L&&(z.lastIndex=0,t=t.replace(z,function(t){return L+t})),t=t.replace(q,function(t){return e.push(+t),"{?}"}),e.unshift(t),e},nt=function(t){var e,n,r={};for(e=0,n=t.keyFrames.length;n>e;e++)rt(t.keyFrames[e],r);for(r={},e=t.keyFrames.length-1;e>=0;e--)rt(t.keyFrames[e],r)},rt=function(t,e){var n;for(n in e)u.call(t.props,n)||(t.props[n]=e[n]);for(n in t.props)e[n]=t.props[n]},it=function(t,e,n){var r,i=t.length;if(i!==e.length)throw"Can't interpolate between \""+t[0]+'" and "'+e[0]+'"';var s=[t[0]];for(r=1;i>r;r++)s[r]=t[r]+(e[r]-t[r])*n;return s},st=function(t){var e=1;return B.lastIndex=0,t[0].replace(B,function(){return t[e++]})},ot=function(t,e){t=[].concat(t);for(var n,r,i=0,s=t.length;s>i;i++)r=t[i],n=lt[r[P]],n&&(e?(r.style.cssText=n.dirtyStyleAttr,jt(r,n.dirtyClassAttr)):(n.dirtyStyleAttr=r.style.cssText,n.dirtyClassAttr=Ot(r),r.style.cssText=n.styleAttr,jt(r,n.classAttr)))},at=function(){xt="translateZ(0)",a.setStyle(ct,"transform",xt);var t=c(ct),e=t.getPropertyValue("transform"),n=t.getPropertyValue(L+"transform"),r=e&&"none"!==e||n&&"none"!==n;r||(xt="")};a.setStyle=function(t,e,n){var r=t.style;if(e=e.replace($,D).replace("-",""),"zIndex"===e)isNaN(n)?r[e]=n:r[e]=""+(0|n);else if("float"===e)r.styleFloat=r.cssFloat=n;else try{V&&(r[V+e.slice(0,1).toUpperCase()+e.slice(1)]=n),r[e]=n}catch(i){}};var ut,lt,ct,ht,ft,dt,pt,vt,gt,mt,yt,bt,_t,xt,wt,Tt=a.addEvent=function(e,n,r){var i=function(e){return e=e||t.event,e.target||(e.target=e.srcElement),e.preventDefault||(e.preventDefault=function(){e.returnValue=!1,e.defaultPrevented=!0}),r.call(this,e)};n=n.split(" ");for(var s,o=0,a=n.length;a>o;o++)s=n[o],e.addEventListener?e.addEventListener(s,r,!1):e.attachEvent("on"+s,i),Jt.push({element:e,name:s,listener:r})},kt=a.removeEvent=function(t,e,n){e=e.split(" ");for(var r=0,i=e.length;i>r;r++)t.removeEventListener?t.removeEventListener(e[r],n,!1):t.detachEvent("on"+e[r],n)},Et=function(){for(var t,e=0,n=Jt.length;n>e;e++)t=Jt[e],kt(t.element,t.name,t.listener);Jt=[]},St=function(t,e,n){ht.keyframe&&ht.keyframe.call(ut,t,e,n)},At=function(){var t=ut.getScrollTop();Ht=0,ft&&!Lt&&(o.style.height=""),X(),ft&&!Lt&&(o.style.height=Ht+s.clientHeight+"px"),Lt?ut.setScrollTop(l.min(ut.getScrollTop(),Ht)):ut.setScrollTop(t,!0),bt=!0},It=function(){var t,e,n=s.clientHeight,r={};for(t in dt)e=dt[t],"function"==typeof e?e=e.call(ut):/p$/.test(e)&&(e=e.slice(0,-1)/100*n),r[t]=e;return r},Ft=function(){var t,e=0;return ct&&(e=l.max(ct.offsetHeight,ct.scrollHeight)),t=l.max(e,o.scrollHeight,o.offsetHeight,s.scrollHeight,s.offsetHeight,s.clientHeight),t-s.clientHeight},Ot=function(e){var n="className";return t.SVGElement&&e instanceof t.SVGElement&&(e=e[n],n="baseVal"),e[n]},jt=function(e,n,i){var s="className";if(t.SVGElement&&e instanceof t.SVGElement&&(e=e[s],s="baseVal"),i===r)return void(e[s]=n);for(var o=e[s],a=0,u=i.length;u>a;a++)o=Nt(o).replace(Nt(i[a])," ");o=Pt(o);for(var l=0,c=n.length;c>l;l++)-1===Nt(o).indexOf(Nt(n[l]))&&(o+=" "+n[l]);e[s]=Pt(o)},Pt=function(t){return t.replace(C,"")},Nt=function(t){return" "+t+" "},Ct=Date.now||function(){return+new Date},Mt=function(t,e){return t.frame-e.frame},Ht=0,Rt=1,$t="down",Dt=-1,qt=Ct(),Bt=0,Ut=0,zt=!1,Vt=0,Lt=!1,Gt=0,Jt=[];"function"==typeof define&&define.amd?define([],function(){return a}):"undefined"!=typeof e&&e.exports?e.exports=a:t.skrollr=a}(window,document)},{}]},{},["backbone","DrawSVGPlugin","skrollr","Draggable"]);